<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{fragments/layout :: layout (~{::body},'Account')}">
<head>
<meta charset="utf-8">
<meta name="description" content="アカウント情報を表示します。">
<title>アカウント管理</title>

<link href="css/common.css" rel="stylesheet" />
<link href="css/bootstrap.css" rel="stylesheet" />
<link href="css/jquery.bootgrid.css" rel="stylesheet" />

<link rel="stylesheet" type="text/css"
	href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />

<!-- BootstrapのCSS読み込み -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<!-- jQuery読み込み -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- BootstrapのJS読み込み -->
<script src="js/bootstrap.min.js"></script>

</head>
<body>
	<script type="text/javascript">
	import com.zaxxer.hikari.HikariConfig;
	import com.zaxxer.hikari.HikariDataSource;

	String Account(Map<String, Object> model) {
		try (Connection connection = dataSource.getConnection()) {
			Statement stmt = connection.createStatement();
			ResultSet rs = stmt.executeQuery("SELECT no,custid,username,orgname,role FROM userdata ORDER BY NO");

			@Bean
			public DataSource dataSource() throws SQLException {
				if (dbUrl == null || dbUrl.isEmpty()) {
					return new HikariDataSource();
				} else {
					HikariConfig config = new HikariConfig();
					config.setJdbcUrl(dbUrl);
					return new HikariDataSource(config);
				}
			}

	</script>
	<div class="container">
		<div class="table-responsive">
			<table class='table table-striped table-bordered'>
				<tbody>
				<thead class="thead-inverse">

					<tr>
						<th data-column-id='no' data-type='numeric' data-identifier='true'
							data-width='10%'>No</th>
						<th data-column-id='custid' data-width='20%'>ユーザーID</th>
						<th data-column-id='username' data-width='30%'>ユーザー名</th>
						<th data-column-id='orgname' data-width='30%'>所属</th>
						<th data-column-id='lore' data-width='10%'>権限</th>
					</tr>

				</thead>
				<tr>
					<td>rs[0]</td>
					<td>rs[1]</td>
					<td>rs[2]</td>
					<td>rs[3]</td>
					<td>rs[4]</td>
				</tr>

				</tbody>
			</table>
		</div>
	</div>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.js"></script>
	<script src="src/main/javascript/bootstrap.js"></script>
	<script src="src/main/javascript/jquery.bootgrid.js"></script>

	<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script th:src="@{/webjars/jquery-ui/jquery-ui.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>

</body>
</html>
