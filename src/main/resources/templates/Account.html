<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{fragments/layout :: layout (~{::body},'Account')}">
<head>
<meta charset="utf-8">
<meta name="description" content="アカウント情報を表示します。">
<title>アカウント管理</title>

<link href="css/common.css" rel="stylesheet" />
<link href="css/bootstrap.css" rel="stylesheet" />
<link href="css/jquery.bootgrid.css" rel="stylesheet" />

<link rel="stylesheet" type="text/css"
	href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />

<!-- BootstrapのCSS読み込み -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<!-- jQuery読み込み -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- BootstrapのJS読み込み -->
<script src="js/bootstrap.min.js"></script>

</head>
<body>
	<script type="text/javascript">
	import java.sql.Connection;
	import java.sql.DriverManager;
	import java.sql.ResultSet;
	import java.sql.ResultSetMetaData;
	import java.sql.Statement;
	import java.util.ArrayList;
	import java.util.List;

    public static void main(String[] args) throws Exception {
        Connection connection = null;
        Statement statement = null;
        ResultSet resultSet = null;

	try {
		connection = DriverManager.getConnection("postgres://gopasxxhdasfak:ab14f9f8cbd407f8e7c7c99d3d03ac82f3c35b9d7a141615a563adeb2dd964f4@ec2-54-83-26-65.compute-1.amazonaws.com:5432/d9pf8qthde7brb",
                "postgres", // ログインロール
                "ab14f9f8cbd407f8e7c7c99d3d03ac82f3c35b9d7a141615a563adeb2dd964f4"); // パスワード
        statement = connection.createStatement();
        resultSet = statement.executeQuery("SELECT * FROM pg_shadow");

        List<String> fields = new ArrayList<String>();
        ResultSetMetaData rsmd = resultSet.getMetaData();
        for (int i = 1; i <= rsmd.getColumnCount(); i++) {
            fields.add(rsmd.getColumnName(i));
        }
	}
    int rowCount = 0;
    while (resultSet.next()) {
        rowCount++;

        System.out.println("---------------------------------------------------");
        System.out.println("--- Rows:" + rowCount);
        System.out.println("---------------------------------------------------");

        //値は、「resultSet.getString(<フィールド名>)」で取得する。
        for (String field : fields) {
            System.out.println(field + ":" + resultSet.getString(field));
        }
    }


} finally {
    //接続を切断する
    if (resultSet != null) {
        resultSet.close();
    }
    if (statement != null) {
        statement.close();
    }
    if (connection != null) {
        connection.close();
    }
}


	</script>
	<div class="container">
		<div class="table-responsive">
			<table class='table table-striped table-bordered'>
				<tbody>
				<thead class="thead-inverse">

					<tr>
						<th data-column-id='no' data-type='numeric' data-identifier='true'
							data-width='10%'>No</th>
						<th data-column-id='custid' data-width='20%'>ユーザーID</th>
						<th data-column-id='username' data-width='30%'>ユーザー名</th>
						<th data-column-id='orgname' data-width='30%'>所属</th>
						<th data-column-id='lore' data-width='10%'>権限</th>
					</tr>

				</thead>
				<tr>
					<td>rs[0]</td>
					<td>rs[1]</td>
					<td>rs[2]</td>
					<td>rs[3]</td>
					<td>rs[4]</td>
				</tr>

				</tbody>
			</table>
		</div>
	</div>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.js"></script>
	<script src="src/main/javascript/bootstrap.js"></script>
	<script src="src/main/javascript/jquery.bootgrid.js"></script>

	<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script th:src="@{/webjars/jquery-ui/jquery-ui.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>

</body>
</html>
